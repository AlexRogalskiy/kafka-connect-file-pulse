# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# The Kafka topic to write the data to.
topic=connect-file-pulse-quickstart-csv
name=connect-file-pulse-quickstart-csv
connector.class=io.streamthoughts.kafka.connect.filepulse.source.FilePulseSourceConnector

fs.scanner.class=io.streamthoughts.kafka.connect.filepulse.scanner.local.LocalFSDirectoryWalker
fs.cleanup.policy.class=io.streamthoughts.kafka.connect.filepulse.clean.LogCleanupPolicy
fs.scan.directory.path=/tmp/kafka-connect/examples/
fs.scan.interval.ms=10000

# Class which is used by tasks to read an input file
task.reader.class=io.streamthoughts.kafka.connect.filepulse.reader.RowFileInputReader
skip.headers=1

# The strategy to use for building an position from an input file; must be one of [name, path, name+hash]"
offset.strategy=name+hash

# List of filters aliases to apply on each record (order is important).
filters=ParseDelimitedRow, Drop

# Configuration for for filter alias : ParseDelimitedRow
filters.ParseDelimitedRow.type=io.streamthoughts.kafka.connect.filepulse.filter.DelimitedRowFilter
filters.ParseDelimitedRow.extractColumnName=headers
filters.ParseDelimitedRow.trimColumn=true

filters.Drop.type=io.streamthoughts.kafka.connect.filepulse.filter.DropFilter
filters.Drop.if={{ equals(artist,U2) }}
filters.Drop.invert=true

# Topic name which is used to report file states
internal.kafka.reporter.topic=connect-file-pulse-status
internal.kafka.reporter.id=connect-file-pulse-quickstart-csv
internal.kafka.reporter.bootstrap.servers=broker:29092